---
title: Slack Setup
description: Connect Spacebot to Slack.
---

# Slack Setup

Connect Spacebot to your Slack workspace. Takes about 5 minutes.

You need two tokens from a Slack app: a **Bot Token** (`xoxb-...`) and an **App Token** (`xapp-...`).

## Step 1: Create a Slack App

Go to [api.slack.com/apps](https://api.slack.com/apps) → **Create New App** → **From scratch**.

Name it whatever you want and select your workspace.

## Step 2: Enable Socket Mode

In your Slack app settings, go to **Socket Mode** and **toggle it on**.

You'll be prompted to create an **App-Level Token**. Give it a name (e.g. "spacebot") and add the `connections:write` scope. Click **Generate**.

Copy the token — this is your **App Token**.

<Callout type="warn">
The App Token **must** start with `xapp-`. If yours starts with `app-` you have the wrong value. Go to **Basic Information** → **App-Level Tokens** and copy or regenerate the `xapp-` prefixed one.
</Callout>

## Step 3: Add Bot Scopes

In your Slack app settings, go to **OAuth & Permissions** → scroll to **Bot Token Scopes** → add all of:

| Scope | What it's for |
|-------|---------------|
| `chat:write` | Send and edit messages |
| `reactions:write` | Thinking indicator |
| `reactions:read` | Read reactions |
| `channels:history` | Read message history in public channels |
| `channels:read` | Read public channel metadata (for channel names) |
| `groups:history` | Same, for private channels |
| `groups:read` | Read private channel metadata (for channel names) |
| `im:history` | Same, for DMs |
| `im:read` | Read DM metadata (for conversation names) |
| `mpim:history` | Same, for group DMs |
| `mpim:read` | Read group DM metadata (for conversation names) |
| `users:read` | Resolve display names |
| `files:write` | Upload file attachments |
| `files:read` | Read file metadata |

## Step 4: Subscribe to Events

In your Slack app settings, go to **Event Subscriptions** and make sure it's toggled on. Under **Subscribe to bot events**, verify these are listed (add any that are missing):

- `message.channels` — public channels
- `message.groups` — private channels
- `message.im` — DMs
- `message.mpim` — group DMs

These tell Slack which message events to send to Spacebot. Without them, the bot won't see messages in the corresponding channel types.

## Step 5: Install to Workspace

In your Slack app settings, go to **Install App** → **Install to Workspace** → Authorize.

Copy the **Bot User OAuth Token** — this is your **Bot Token**. It starts with `xoxb-`.

## Step 6: Invite the Bot

In Slack, go to any channel you want the bot in and run `/invite @YourBotName`.

## Step 7: Add Tokens to Spacebot

<Tabs items={["Spacebot UI", "TOML Config"]}>
<Tab value="Spacebot UI">

1. Open your Spacebot dashboard
2. Go to **Settings** → **Messaging Platforms**
3. Click **Setup** on the Slack card
4. Paste your **Bot Token** (`xoxb-...`) and **App Token** (`xapp-...`)
5. Click **Save**

Spacebot connects immediately — no restart needed.

</Tab>
<Tab value="TOML Config">

```toml
[messaging.slack]
enabled = true
bot_token = "xoxb-your-bot-token"
app_token = "xapp-your-app-token"

[[bindings]]
agent_id = "main"
channel = "slack"
```

You can also reference environment variables:

```toml
[messaging.slack]
enabled = true
bot_token = "env:SLACK_BOT_TOKEN"
app_token = "env:SLACK_APP_TOKEN"
```

Token changes in config require a restart.

</Tab>
</Tabs>

## Verify It's Working

The Slack card on the Settings page shows a green status dot when connected. Send a message in one of the channels you invited the bot to — you should see a :thinking_face: reaction appear while it processes, then a reply.

## Filtering

### Restrict to specific channels

By default the bot responds in every channel it's been invited to. To limit it, add channel IDs to your binding.

<Tabs items={["Spacebot UI", "TOML Config"]}>
<Tab value="Spacebot UI">

Go to **Settings** → **Bindings** tab and add channel IDs to your Slack binding.

</Tab>
<Tab value="TOML Config">

```toml
[[bindings]]
agent_id = "main"
channel = "slack"
workspace_id = "T01234ABCDE"
channel_ids = ["C0001", "C0002"]
```

</Tab>
</Tabs>

### Finding your workspace ID

The workspace ID is the `T`-prefixed string in your Slack URL: `https://app.slack.com/client/T01234ABCDE/...`

### DM filtering

By default, all DMs are ignored. To allow specific users, add their Slack user IDs.

<Tabs items={["Spacebot UI", "TOML Config"]}>
<Tab value="Spacebot UI">

Go to **Settings** → **Messaging Platforms** → Slack card and add user IDs to the **DM Allowed Users** list.

</Tab>
<Tab value="TOML Config">

```toml
[messaging.slack]
dm_allowed_users = ["U01234", "U56789"]
```

Permission changes hot-reload within a couple seconds — no restart needed.

</Tab>
</Tabs>

## Threads

Threads get their own separate conversation with isolated history. Messages in the main channel share one conversation.

## Troubleshooting

| Symptom | Cause | Fix |
|---------|-------|-----|
| `invalid_auth` on startup | Wrong app token | Must start with `xapp-`, not `app-` |
| `invalid_auth` on API calls | Wrong bot token | Reinstall app, copy fresh `xoxb-` token |
| Connects then immediately drops | Socket Mode not enabled | Slack app settings → Socket Mode → toggle on |
| Bot doesn't respond in channel | Not invited | `/invite @YourBot` in the channel |
| Bot doesn't respond to DMs | DM filtering | Add user ID to `dm_allowed_users` |
